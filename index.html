<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link
      href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap"
      rel="stylesheet"
    />

    <title>Hexashop Ecommerce HTML CSS Template</title>

    <!-- Additional CSS Files -->
    <link
      rel="stylesheet"
      type="text/css"
      href="assets/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="pred.css" />
    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.css" />

    <link rel="stylesheet" href="assets/css/templatemo-hexashop.css" />

    <link rel="stylesheet" href="assets/css/owl-carousel.css" />

    <link rel="stylesheet" href="assets/css/lightbox.css" />

    <!--

TemplateMo 571 Hexashop

https://templatemo.com/tm-571-hexashop

-->
  </head>

  <body>
    <!-- ** Preloader Start ** -->
    <div id="preloader">
      <div class="jumper">
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>

    <div id="scroll">
      <!-- Duplicate the navigation header if needed -->
      <center class="pal"></center>
      <!-- Duplicate the rest of the content with necessary modifications -->
      <div class="second-page">
        <center class="cen">
          <h2
            style="
              text-align: center;
              color: #000000;
              font-size: 3em;
              font-family: Libre Baskerville, serif;
            "
          >
            <i> Enhanced Prediction Experience</i>
          </h2>
        </center>
        <div class="spice additional-class">
          <!-- Duplicate and modify the content as needed -->
          <center>
            <h3 style="text-align: center; font-size: 2em">
              Prediction Information:
            </h3>
            <p style="font-size: 1.2em">
              Cultivated in regions with a temperate climate, wheat is a
              cool-season crop planted in the fall and typically harvested in
              the spring or early summer. Well-drained loam soils provide an
              optimal environment for its growth. Wheat plays a pivotal role in
              human nutrition, serving as a primary source of carbohydrates,
              dietary fiber, and essential nutrients. It is a staple food for a
              significant portion of the world's population. Apart from its
              nutritional significance, wheat holds economic importance,
              contributing substantially to the economies of many nations. The
              cultivation of wheat has evolved over the years, with ongoing
              efforts in research and breeding programs aimed at developing
              improved varieties. These endeavors focus on enhancing yield,
              disease resistance, and nutritional content, as well as adapting
              wheat crops to changing climatic conditions.
            </p>

            <br />
            <br />

            <input type="text" id="genotypeInput" maxlength="48" />
            <button id="submitBtn" onclick="submitGenotype()">Submit</button>
          </center>
        </div>

        <div class="info-section">
          <h3 style="text-align: center; font-size: 2em">
            Additional Information about Prediction:
          </h3>
        </div>

        <table class="table additional-class">
          <!-- Duplicate and modify the table as needed -->
          <thead>
            <tr>
              <th>Trait</th>
              <th>Prediction</th>
            </tr>
          </thead>
          <tbody id="predictionTableBody"></tbody>
        </table>
      </div>
    </div>

    <!-- ** Men Area Starts ** -->

    <!-- ** Men Area Ends ** -->

    <!-- ** Explore Area Starts ** -->
    <section class="section" id="explore">
      <div class="container">
        <div class="row">
          <div class="col-lg-6">
            <div class="left-content">
              <h2>About Our Project</h2>
              <span
                >About Triticum aestivum is a staple crop with diverse traits.
                By using genomic prediction, we can improve the reliability of
                trait prediction. Significance This project exploits genomic
                selection to enhance the Triticum aestivum breeding process.
                It's important to develop more effective methods in order to
                increase crop yields and reduce environmental risks</span
              >
              <div class="quote">
                <i class="fa fa-quote-left"></i>
                <p>
                  GWAS and ML Models The project comprises the processing of two
                  major data types; GWAS to identify marker-trait relationships
                  and ML models to predict complex traits.
                </p>
              </div>
              <p>
                Flask Backend Development API Development We employ the REST API
                to simplify data retrieval and communication between the app and
                the server. Pythonanywhere (Hosting site) We use pythonanywhere
                to call the saved ml model from backend and show them on flutter
                UI for users to consume with ease.
              </p>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="right-content">
              <div class="row">
                <div class="col-lg-6">
                  <div class="leather">
                    <h4>Happy Prediction</h4>
                    <span>Accurate Prediction</span>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="first-image">
                    <img
                      src="https://plus.unsplash.com/premium_photo-1671149785230-bf9fc44e3829?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                      alt=""
                    />
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="second-image">
                    <img
                      src="https://images.unsplash.com/photo-1596967302183-e9a3775a75ef?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                      alt=""
                      height="300px"
                    />
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="types">
                    <h4>6 Different Types</h4>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- ** Explore Area Ends ** -->

    <!-- jQuery -->
    <script src="assets/js/jquery-2.1.0.min.js"></script>

    <!-- Bootstrap -->
    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>

    <!-- Plugins -->
    <script src="assets/js/owl-carousel.js"></script>
    <script src="assets/js/accordions.js"></script>
    <script src="assets/js/datepicker.js"></script>
    <script src="assets/js/scrollreveal.min.js"></script>
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/jquery.counterup.min.js"></script>
    <script src="assets/js/imgfix.min.js"></script>
    <script src="assets/js/slick.js"></script>
    <script src="assets/js/lightbox.js"></script>
    <script src="assets/js/isotope.js"></script>

    <!-- Global Init -->
    <script src="assets/js/custom.js"></script>

    <script>
      $(function () {
        var selectedClass = "";
        $("p").click(function () {
          selectedClass = $(this).attr("data-rel");
          $("#portfolio").fadeTo(50, 0.1);
          $("#portfolio div")
            .not("." + selectedClass)
            .fadeOut();
          setTimeout(function () {
            $("." + selectedClass).fadeIn();
            $("#portfolio").fadeTo(50, 1);
          }, 500);
        });
      });
    </script>

    <script>
      function submitGenotype() {
        var genotypeInput = document.getElementById("genotypeInput").value;

        // Validate input length
        if (genotypeInput.length !== 48) {
          alert("Please enter exactly 48 characters.");
          return;
        }

        // Validate input characters
        var validCharacters = /^[ATGCatgc]*$/;
        if (!validCharacters.test(genotypeInput)) {
          alert("Invalid characters. Please use only A, T, G, C.");
          return;
        }

        // Map genotype to numbers
        var genoMap = {
          AA: 1,
          AT: 2,
          AG: 3,
          AC: 4,
          TT: 5,
          TG: 6,
          TC: 7,
          GG: 8,
          CG: 9,
          CC: 10,
        };

        // Convert genotype to numbers
        var numericGenotype = [];
        for (var i = 0; i < genotypeInput.length; i += 2) {
          var pair = genotypeInput.slice(i, i + 2).toUpperCase();
          numericGenotype.push(genoMap[pair]);
        }

        // Send the numeric genotype array to the backend
        fetch("https://cnspradhyumna.pythonanywhere.com/predict", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ ip: numericGenotype }),
        })
          .then((response) => response.json())
          .then((data) => {
            // Check if the "preds" key exists
            if (data && data.preds) {
              var predictionResult = data.preds;
              var staticTraits = [
                "Days to Heading (DH)",
                "Grain Filling Duration (GFD)",
                "Grain Number per Spike (GNPS)",
                "Grain Weight per Spike (GWPS)",
                "Plant Height (PH)",
                "Grain Yield (GY)",
              ];

              // Update the table with prediction data
              var predictionTableBody = document.getElementById(
                "predictionTableBody"
              );
              predictionTableBody.innerHTML = ""; // Clear previous rows

              for (var i = 0; i < predictionResult.length; i++) {
                var row = predictionTableBody.insertRow();
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                cell1.innerHTML = staticTraits[i];
                cell2.innerHTML = predictionResult[i].toFixed(2);
              }
            } else {
              // Handle the case when "preds" key is missing in the response
              console.error("Invalid response format. Missing 'preds' key.");
            }
          })
          .catch((error) =>
            console.error("Error fetching predictions:", error)
          );
      }
    </script>
  </body>
</html>